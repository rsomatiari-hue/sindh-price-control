<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meat & Milk Rates | VIP Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #c62828; --accent: #ffd700; --bg: #ffebee; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding-bottom: 30px; }
        .header { background: var(--primary); color: white; text-align: center; padding: 20px 10px; border-bottom: 4px solid var(--accent); position: sticky; top: 0; z-index: 100; }
        .header h1 { font-family: 'Noto Nastaliq Urdu', serif; font-size: 22px; margin: 0; }
        .item-list { padding: 15px; }
        .item-card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 8px rgba(0,0,0,0.05); border-right: 5px solid var(--primary); }
        .item-info h3 { margin: 0; font-size: 15px; color: #222; }
        .update-area { display: flex; align-items: center; gap: 8px; }
        .rate-input { width: 75px; padding: 10px; border: 2px solid #eee; border-radius: 10px; text-align: center; font-weight: bold; }
        .upd-btn { background: #212121; color: var(--accent); border: none; padding: 10px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 11px; }
    </style>
</head>
<body>

<div class="header">
    <a href="officer-dashboard.html" style="position:absolute; left:15px; top:25px; color:white;"><i class="fas fa-arrow-left fa-lg"></i></a>
    <h1>گوشت اور دودھ کے نرخ</h1>
    <p style="font-size: 11px; color: var(--accent);">MEAT, POULTRY & DAIRY UPDATE</p>
</div>

<div class="item-list" id="listArea">
    <script>
        const dairyMeat = [
            // POULTRY & MEAT (Starting 301)
            { id: 301, name: "زندہ مرغی (Live Chicken)", unit: "1 KG" },
            { id: 302, name: "مرغی کا گوشت (Chicken Meat)", unit: "1 KG" },
            { id: 303, name: "دیسی مرغی زندہ (Desi Chicken Live)", unit: "1 KG" },
            { id: 304, name: "انڈے فارمی (Eggs Farm)", unit: "1 Dozen" },
            { id: 305, name: "انڈے دیسی (Eggs Desi)", unit: "1 Dozen" },
            { id: 306, name: "بکرے کا گوشت (Mutton)", unit: "1 KG" },
            { id: 307, name: "گائے کا گوشت (Beef No Bone)", unit: "1 KG" },
            { id: 308, name: "گائے کا گوشت ہڈی والا (Beef with Bone)", unit: "1 KG" },
            { id: 309, name: "اونٹ کا گوشت (Camel Meat)", unit: "1 KG" },
            { id: 310, name: "مچھلی رہو (Fish Rahu)", unit: "1 KG" },
            { id: 311, name: "مچھلی مشکا (Fish Mushka)", unit: "1 KG" },
            { id: 312, name: "قیمہ گائے (Beef Mince)", unit: "1 KG" },
            
            // DAIRY (Starting 401)
            { id: 401, name: "تازہ دودھ (Fresh Milk)", unit: "1 Litre" },
            { id: 402, name: "دہی (Yogurt)", unit: "1 KG" },
            { id: 403, name: "مکھن (Butter Local)", unit: "250 GM" },
            { id: 404, name: "پنیر (Cheese Local)", unit: "1 KG" },
            { id: 405, name: "کھویا (Khoya)", unit: "1 KG" },
            { id: 406, name: "دیسی گھی (Desi Ghee)", unit: "1 KG" }
        ];

        const listArea = document.getElementById('listArea');
        dairyMeat.forEach(item => {
            listArea.innerHTML += `
                <div class="item-card">
                    <div class="item-info">
                        <h3>${item.name}</h3>
                        <span>ID: ${item.id} | Unit: ${item.unit}</span>
                    </div>
                    <div class="update-area">
                        <input type="number" class="rate-input" id="rate_${item.id}" placeholder="Rs">
                        <button class="upd-btn" onclick="updatePrice(${item.id})">UPDATE</button>
                    </div>
                </div>
            `;
        });

        function updatePrice(id) {
            const rate = document.getElementById('rate_' + id).value;
            if(!rate) return alert("Enter Rate!");
            const btn = event.target;
            btn.innerText = "⏳";
            const apiURL = "https://script.google.com/macros/s/AKfycbyF3H19bi79J8_qv1d5ItMStO_cYI3ehsfuVU72JDRbPJewgSq0qYAmn7lZSD6rVfNhSA/exec";
            const script = document.createElement('script');
            script.src = `${apiURL}?action=updateRate&itemID=${id}&rate=${rate}&callback=onUpdateRes`;
            document.body.appendChild(script);
        }

        window.onUpdateRes = function(res) {
            alert(res.status === "success" ? "Updated Successfully!" : "Error!");
            location.reload();
        }
    </script>
</div>
</body>
</html>
