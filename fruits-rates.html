<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fruits Mega List | VIP Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #e65100; --accent: #ffd700; --bg: #fff3e0; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding-bottom: 30px; }
        .header { background: var(--primary); color: white; text-align: center; padding: 20px 10px; border-bottom: 4px solid var(--accent); position: sticky; top: 0; z-index: 100; }
        .header h1 { font-family: 'Noto Nastaliq Urdu', serif; font-size: 22px; margin: 0; }
        .search-container { padding: 10px 15px; background: #fff; position: sticky; top: 85px; z-index: 90; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        #searchBox { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; outline: none; }
        .item-list { padding: 15px; }
        .item-card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 8px rgba(0,0,0,0.05); border-right: 5px solid var(--primary); }
        .item-info h3 { margin: 0; font-size: 15px; color: #222; }
        .update-area { display: flex; align-items: center; gap: 8px; }
        .rate-input { width: 70px; padding: 10px; border: 2px solid #eee; border-radius: 10px; text-align: center; font-weight: bold; }
        .upd-btn { background: #212121; color: var(--accent); border: none; padding: 10px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 11px; }
    </style>
</head>
<body>

<div class="header">
    <a href="officer-dashboard.html" style="position:absolute; left:15px; top:25px; color:white;"><i class="fas fa-arrow-left fa-lg"></i></a>
    <h1>پھلوں کی مکمل فہرست (70+ Fruits)</h1>
    <p style="font-size: 11px; color: var(--accent);">MARKET COMMITTEE FRUIT UPDATE</p>
</div>

<div class="search-container">
    <input type="text" id="searchBox" placeholder="پھل کا نام تلاش کریں..." onkeyup="filterItems()">
</div>

<div class="item-list" id="listArea">
    <script>
        const fruits = [
            "سیب کالا کلو (Apple Kala)", "سیب گولڈن (Apple Golden)", "سیب سفید (Apple White)", "کیلا درجہ اول (Banana 1st)", 
            "کیلا درجہ دوم (Banana 2nd)", "آم لنگڑا (Mango Langra)", "آم سندھڑی (Mango Sindhri)", "آم چونسہ (Mango Chaunsa)", 
            "آم انور رٹول (Mango Anwar Ratol)", "آم دیسی (Mango Local)", "انگور سندر خانی (Grapes Sundarkhani)", 
            "انگور گول (Grapes Round)", "انگور سیاہ (Grapes Black)", "مالٹا (Orange)", "مسمی (Musami)", 
            "کینو (Kinnow)", "فروٹر (Fruiter)", "پپیتا (Papaya)", "تربوز (Watermelon)", "خربوزہ (Melon)", 
            "گرما (Garma)", "سردا (Sarda)", "امرود (Guava)", "انار قندھاری (Pomegranate)", "انار دیسی (Pomegranate Local)", 
            "آڑو (Peach)", "آلو بخارا (Plum)", "خوبانی (Apricot)", "ناشپاتی (Pear)", "چیکو (Chiku)", 
            "لوکاٹ (Loquat)", "فالسہ (Falsa)", "جامن (Jaman)", "شہتوت (Mulberry)", "ناریل (Coconut)", 
            "سٹرابیری (Strawberry)", "لیچی (Lychee)", "شریفہ (Custard Apple)", "چکوترا (Grapefruit)", 
            "بیر (Ber/Jujube)", "کھجور اصیل (Dates Aseel)", "کھجور مضافاتی (Dates Local)", "انجیر (Fig)", 
            "سنگھڑا (Water Chestnut)", "گنا (Sugarcane)", "زیتون (Olive Fresh)", "پائین ایپل (Pineapple)", 
            "کیوی (Kiwi)", "ڈریگن فروٹ (Dragon Fruit)", "ایواکاڈو (Avocado)", "چیری (Cherry)", 
            "نیبو میٹھا (Sweet Lemon)", "کچا آم (Raw Mango)", "انناس (Pineapple)", "کجھور خشک (Dry Dates)",
            "بیر دیسی (Local Ber)", "سیب ایرانی (Iranian Apple)", "سیب چینی (Chinese Apple)",
            "انگور ایرانی (Iranian Grapes)", "مالٹا شکری (Shakri Orange)", "مالٹا ریڈ بلڈ (Red Blood Orange)",
            "آلو بخارا ایرانی (Iranian Plum)", "نشپاتی چینی (Chinese Pear)", "کیلا ہائبرڈ (Hybrid Banana)",
            "آم دوسیری (Mango Dussehri)", "آم فجری (Mango Fajri)", "آم رٹول (Mango Ratol)", 
            "خربوزہ دیسی (Local Melon)", "تربوز گول (Round Watermelon)", "تربوز لمبا (Long Watermelon)",
            "کھجور کربلائی (Karbalai Dates)", "کھجور ربی (Rabbi Dates)"
        ];

        const listArea = document.getElementById('listArea');
        fruits.forEach((name, index) => {
            const id = 201 + index; // Fruits starting from 201
            listArea.innerHTML += `
                <div class="item-card">
                    <div class="item-info">
                        <h3>${name}</h3>
                        <span>ID: ${id} | Unit: 1 KG / Dozen</span>
                    </div>
                    <div class="update-area">
                        <input type="number" class="rate-input" id="rate_${id}" placeholder="Rs">
                        <button class="upd-btn" onclick="updatePrice(${id})">UPDATE</button>
                    </div>
                </div>
            `;
        });

        function filterItems() {
            let input = document.getElementById('searchBox').value.toLowerCase();
            let cards = document.getElementsByClassName('item-card');
            for (let i = 0; i < cards.length; i++) {
                let name = cards[i].querySelector('h3').innerText.toLowerCase();
                cards[i].style.display = name.includes(input) ? "flex" : "none";
            }
        }

        function updatePrice(id) {
            const rate = document.getElementById('rate_' + id).value;
            if(!rate) return alert("Rate enter karein!");
            const btn = event.target;
            btn.innerText = "⏳";
            const apiURL = "https://script.google.com/macros/s/AKfycbyF3H19bi79J8_qv1d5ItMStO_cYI3ehsfuVU72JDRbPJewgSq0qYAmn7lZSD6rVfNhSA/exec";
            const script = document.createElement('script');
            script.src = `${apiURL}?action=updateRate&itemID=${id}&rate=${rate}&callback=onUpdateRes`;
            document.body.appendChild(script);
        }

        window.onUpdateRes = function(res) {
            alert(res.status === "success" ? "Updated!" : "Error!");
            location.reload();
        }
    </script>
</div>
</body>
</html>
