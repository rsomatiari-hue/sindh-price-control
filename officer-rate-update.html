<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سرکاری ریٹ لسٹ - سندھ حکومت</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; margin: 0; padding-bottom: 80px; text-align: right; }
        .header { background: #004d40; color: white; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .market-info { background: #ff9800; color: white; font-size: 14px; padding: 8px; text-align: center; font-weight: bold; }
        
        .tabs-container { display: flex; overflow-x: auto; background: white; padding: 10px; gap: 10px; border-bottom: 2px solid #004d40; position: sticky; top: 60px; z-index: 999; }
        .tab { padding: 10px 20px; background: #e0f2f1; border-radius: 20px; white-space: nowrap; cursor: pointer; font-weight: bold; color: #004d40; border: 1px solid #004d40; }
        .tab.active { background: #004d40; color: white; }

        .item-list { padding: 15px; }
        .item-card { background: white; margin-bottom: 10px; padding: 15px; border-radius: 12px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border-left: 5px solid #004d40; }
        .item-info { flex-grow: 1; }
        .item-name { font-weight: bold; font-size: 16px; color: #333; }
        .price-box { width: 90px; }
        .price-input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 8px; text-align: center; font-size: 16px; font-weight: bold; color: #d32f2f; }

        .footer { position: fixed; bottom: 0; width: 100%; background: white; padding: 15px; display: flex; gap: 10px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .save-btn { flex: 2; background: #2e7d32; color: white; border: none; padding: 15px; border-radius: 10px; font-size: 18px; font-weight: bold; }
        .back-btn { flex: 1; background: #546e7a; color: white; border: none; padding: 15px; border-radius: 10px; font-size: 16px; }
    </style>
</head>
<body>

<div class="header"><h3>سرکاری ریٹ اپڈیٹ</h3></div>
<div class="market-info" id="mLabel">مارکیٹ: لوڈنگ...</div>

<div class="tabs-container">
    <div class="tab active" onclick="showCat('veg', this)">سبزیات</div>
    <div class="tab" onclick="showCat('fruit', this)">پھل</div>
    <div class="tab" onclick="showCat('meat', this)">گوشت/انڈے</div>
    <div class="tab" onclick="showCat('grocery', this)">کریانہ/دودھ</div>
</div>

<div class="item-list" id="listArea"></div>

<div class="footer">
    <button class="back-btn" onclick="history.back()">واپس</button>
    <button class="save-btn" onclick="saveData()">ڈیٹا محفوظ کریں</button>
</div>

<script>
    const allItems = [
        // سبزیات (From Image 1000400106)
        {n: "آلو درجہ اول", c: "veg"}, {n: "آلو درجہ دوم", c: "veg"}, {n: "پیاز درجہ اول", c: "veg"}, 
        {n: "ٹماٹر درجہ اول", c: "veg"}, {n: "ادرک چائنہ", c: "veg"}, {n: "لہسن چائنہ", c: "veg"},
        {n: "بھنڈی", c: "veg"}, {n: "گاجر", c: "veg"}, {n: "مٹر", c: "veg"}, {n: "کریلا", c: "veg"},
        
        // پھل (From Image 1000400114)
        {n: "کیلا درجہ اول (درجن)", c: "fruit"}, {n: "سیب کلو اول", c: "fruit"}, {n: "انار قندھاری", c: "fruit"},
        {n: "پپیتہ (کلو)", c: "fruit"}, {n: "مالٹا (درجن)", c: "fruit"}, {n: "امرود", c: "fruit"},
        
        // گوشت/انڈے (From Images 1000400118, 1000400123)
        {n: "زندہ مرغی (کلو)", c: "meat"}, {n: "مرغی گوشت (کلو)", c: "meat"}, {n: "انڈے فارمی (درجن)", c: "meat"},
        {n: "مٹن (بکرے کا گوشت)", c: "meat"}, {n: "بیف (بغیر ہڈی)", c: "meat"}, {n: "بیف (ہڈی والا)", c: "meat"},
        
        // کریانہ/دودھ (From Images 1000400119, 1000400120, 1000400121)
        {n: "تازہ دودھ (لیٹر)", c: "grocery"}, {n: "دہی (کلو)", c: "grocery"}, {n: "چینی ریٹیل", c: "grocery"},
        {n: "دال ماش (دھلی)", c: "grocery"}, {n: "دال مونگ", c: "grocery"}, {n: "چاول باسمتی", c: "grocery"},
        {n: "چپاتی 100 گرام", c: "grocery"}, {n: "تندوری نان", c: "grocery"}
    ];

    const mkt = localStorage.getItem("userMarket") || "Karachi";
    document.getElementById('mLabel').innerText = "آپ کی مارکیٹ: " + mkt;

    function showCat(cat, el) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        const area = document.getElementById('listArea');
        area.innerHTML = "";
        allItems.filter(i => i.c === cat).forEach(item => {
            area.innerHTML += `
                <div class="item-card">
                    <div class="item-info"><span class="item-name">${item.n}</span></div>
                    <div class="price-box"><input type="number" class="price-input" data-name="${item.n}" placeholder="0"></div>
                </div>`;
        });
    }

    function saveData() {
        alert("ڈیٹا کامیابی سے اپڈیٹ ہوگیا!");
        // Yahan Google Script wala function aayega
    }

    window.onload = () => showCat('veg', document.querySelector('.tab'));
</script>
</body>
</html>
