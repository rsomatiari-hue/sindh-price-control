<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vegetables Mega List | VIP</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #1b5e20; --accent: #ffd700; --bg: #f4f7f4; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding-bottom: 30px; }
        .header { background: var(--primary); color: white; text-align: center; padding: 20px 10px; border-bottom: 4px solid var(--accent); position: sticky; top: 0; z-index: 100; }
        .header h1 { font-family: 'Noto Nastaliq Urdu', serif; font-size: 22px; margin: 0; }
        .search-container { padding: 10px 15px; background: #fff; position: sticky; top: 85px; z-index: 90; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        #searchBox { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; outline: none; }
        .item-list { padding: 15px; }
        .item-card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 8px rgba(0,0,0,0.05); border-right: 5px solid #4caf50; }
        .item-info h3 { margin: 0; font-size: 15px; color: #222; }
        .update-area { display: flex; align-items: center; gap: 8px; }
        .rate-input { width: 70px; padding: 10px; border: 2px solid #eee; border-radius: 10px; text-align: center; font-weight: bold; }
        .upd-btn { background: #212121; color: var(--accent); border: none; padding: 10px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 11px; }
    </style>
</head>
<body>

<div class="header">
    <h1>سبزیوں کی مکمل فہرست (70+ Items)</h1>
    <p style="font-size: 11px; color: var(--accent);">OFFICIAL RATE UPDATE PANEL</p>
</div>

<div class="search-container">
    <input type="text" id="searchBox" placeholder="سبزی کا نام تلاش کریں..." onkeyup="filterItems()">
</div>

<div class="item-list" id="listArea">
    <script>
        const veggies = [
            "آلو (Potato)", "پیاز (Onion)", "ٹماٹر (Tomato)", "ادرک (Ginger)", "لہسن (Garlic)", 
            "ہری مرچ (Green Chili)", "لیموں (Lemon)", "بھنڈی (Lady Finger)", "کدو (Bottle Gourd)", 
            "بینگن (Eggplant)", "کھیرا (Cucumber)", "مٹر (Peas)", "گوبھی (Cauliflower)", 
            "بند گوبھی (Cabbage)", "شملہ مرچ (Capsicum)", "پالک (Spinach)", "ٹینڈا (Apple Gourd)", 
            "کریعہ (Bitter Gourd)", "اروی (Taro)", "مولی (Radish)", "گاجر (Carrot)", 
            "چقندر (Beetroot)", "شلجم (Turnip)", "پھلیاں (Green Beans)", "لوکی (Squash)", 
            "میتھی (Fenugreek)", "دھنیا (Coriander)", "پودینہ (Mint)", "سلاد پتا (Lettuce)", 
            "بروکولی (Broccoli)", "شکر قندی (Sweet Potato)", "اروی (Yam)", "بھٹا (Corn)", 
            "سرخ مرچ (Red Chili)", "سرخ گوبھی (Red Cabbage)", "مشروم (Mushroom)", 
            "زیتون (Olive)", "کروندہ (Asparagus)", "ہرا پیاز (Spring Onion)", "کری پتا (Curry Leaves)",
            "کچنار (Kachnar)", "سوہانجنا (Drumstick)", "پیٹھا (Pumpkin)", "پروال (Pointed Gourd)",
            "تورئی (Ridge Gourd)", "گوار پھلی (Cluster Beans)", "لوبیا (Black Eyed Peas)", 
            "کالی مرچ (Bell Pepper)", "ادرک دیسی (Local Ginger)", "لہسن دیسی (Local Garlic)",
            "سیلری (Celery)", "پارسل (Parsley)", "بیم پھلی (Fava Beans)", "برسلز سپراؤٹ (Brussels Sprouts)",
            "لیک (Leek)", "کالی مرچ (Black Pepper Fresh)", "آلو بخارا سبزی (Green Plum)",
            "بانس (Bamboo Shoot)", "آرٹچوک (Artichoke)", "مکھن پھلی (Lima Beans)",
            "سفید مولی (White Radish)", "لال مولی (Red Radish)", "لمبی مرچ (Long Chili)",
            "چھوٹی مرچ (Small Chili)", "دیسی ٹماٹر (Local Tomato)", "ہائبرڈ ٹماٹر (Hybrid Tomato)",
            "کالی گاجر (Black Carrot)", "کھیرا دیسی (Local Cucumber)", "چپن کدو (Zucchini)",
            "کرلا (Bitter Melon)", "سرسوں ساگ (Mustard Greens)", "باتھو (Lamb's Quarter)",
            "کلتھی (Horse Gram)", "کوار گندل (Aloe Vera)"
        ];

        const listArea = document.getElementById('listArea');
        veggies.forEach((name, index) => {
            const id = 101 + index; 
            listArea.innerHTML += `
                <div class="item-card">
                    <div class="item-info">
                        <h3>${name}</h3>
                        <span>ID: ${id} | Unit: 1 KG</span>
                    </div>
                    <div class="update-area">
                        <input type="number" class="rate-input" id="rate_${id}" placeholder="Rs">
                        <button class="upd-btn" onclick="updatePrice(${id})">UPDATE</button>
                    </div>
                </div>
            `;
        });

        function filterItems() {
            let input = document.getElementById('searchBox').value.toLowerCase();
            let cards = document.getElementsByClassName('item-card');
            for (let i = 0; i < cards.length; i++) {
                let name = cards[i].querySelector('h3').innerText.toLowerCase();
                cards[i].style.display = name.includes(input) ? "flex" : "none";
            }
        }

        function updatePrice(id) {
            const rate = document.getElementById('rate_' + id).value;
            if(!rate) return alert("Rate enter karein!");
            const btn = event.target;
            btn.innerText = "⏳";
            const apiURL = "https://script.google.com/macros/s/AKfycbyF3H19bi79J8_qv1d5ItMStO_cYI3ehsfuVU72JDRbPJewgSq0qYAmn7lZSD6rVfNhSA/exec";
            const script = document.createElement('script');
            script.src = `${apiURL}?action=updateRate&itemID=${id}&rate=${rate}&callback=onUpdateRes`;
            document.body.appendChild(script);
        }

        window.onUpdateRes = function(res) {
            alert(res.status === "success" ? "Updated!" : "Error!");
            location.reload();
        }
    </script>
</div>
</body>
</html>
